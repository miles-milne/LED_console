/*
 * game_2048.h
 *
 *  Created on: Sep 7, 2024
 *      Author: 1miln
 */

#ifndef INC_GAME_2048_H_
#define INC_GAME_2048_H_

#include "main.h"
#include <cstdlib>
#include <ctime> // delete ?
#include <stack>

class game_2048 {

	private:
		uint8_t _row;
		uint8_t _col;
		uint16_t  _score; // TODO when display the score, divide it by four!

		int* _grid;

		bool vacancy();
		bool move(char input);
		static int shift_line(int* line, int size);
		bool has_moves();
		void populate(unsigned int seed);
		void clear_grid();


	public:
		game_2048(uint8_t rows, uint8_t cols);
		~game_2048();
		bool play();

};


#endif /* INC_GAME_2048_H_ */
